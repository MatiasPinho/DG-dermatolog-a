---
import Layout from "../layouts/Layout.astro";
import Servicios from "./Servicios.astro";
---

<Layout>
 <!-- NAVBAR -->
 <nav class="fixed top-0 left-0 right-0 z-50 flex justify-center pt-4 px-6">
  <div class="glass-nav flex items-center gap-1 px-2 py-2 rounded-full">
   <!-- Logo -->
   <a
    href="/"
    class="flex items-center justify-center w-10 h-10 bg-primary/10 rounded-full mr-2 group shrink-0"
   >
    <svg
     xmlns="http://www.w3.org/2000/svg"
     width="20"
     height="20"
     viewBox="0 0 32 32"
     fill="none"
     class="transition-transform group-hover:rotate-45 duration-500"
    >
     <circle cx="16" cy="16" r="3" fill="#3b3ba8"></circle>
     <line
      x1="16"
      y1="4"
      x2="16"
      y2="12"
      stroke="#3b3ba8"
      stroke-width="2.5"
      stroke-linecap="round"></line>
     <line
      x1="16"
      y1="20"
      x2="16"
      y2="28"
      stroke="#3b3ba8"
      stroke-width="2.5"
      stroke-linecap="round"></line>
     <line
      x1="4"
      y1="16"
      x2="12"
      y2="16"
      stroke="#3b3ba8"
      stroke-width="2.5"
      stroke-linecap="round"></line>
     <line
      x1="20"
      y1="16"
      x2="28"
      y2="16"
      stroke="#3b3ba8"
      stroke-width="2.5"
      stroke-linecap="round"></line>
     <line
      x1="7.5"
      y1="7.5"
      x2="12.5"
      y2="12.5"
      stroke="#3b3ba8"
      stroke-width="2.5"
      stroke-linecap="round"></line>
     <line
      x1="19.5"
      y1="19.5"
      x2="24.5"
      y2="24.5"
      stroke="#3b3ba8"
      stroke-width="2.5"
      stroke-linecap="round"></line>
     <line
      x1="7.5"
      y1="24.5"
      x2="12.5"
      y2="19.5"
      stroke="#3b3ba8"
      stroke-width="2.5"
      stroke-linecap="round"></line>
     <line
      x1="19.5"
      y1="12.5"
      x2="24.5"
      y2="7.5"
      stroke="#3b3ba8"
      stroke-width="2.5"
      stroke-linecap="round"></line>
    </svg>
   </a>

   <!-- Nav links -->
   <div class="hidden md:flex items-center">
    <a
     href="#"
     class="text-sm font-medium text-text-dark hover:text-primary px-4 py-2 rounded-full transition-colors"
     >Dermatología Clínica</a
    >
    <a
     href="#"
     class="text-sm font-medium text-text-dark hover:text-primary px-4 py-2 rounded-full transition-colors"
     >Dermatología Estética</a
    >
    <a
     href="#"
     class="text-sm font-medium text-text-dark hover:text-primary px-4 py-2 rounded-full transition-colors"
     >Aparatología</a
    >
    <a
     href="#"
     class="text-sm font-medium text-text-dark hover:text-primary px-4 py-2 rounded-full transition-colors"
     >Cosmiatría</a
    >
    <a
     href="#"
     class="inline-flex items-center bg-primary text-white pl-5 pr-1 py-1 rounded-full text-sm font-medium hover:bg-primary-light transition-all duration-300 group"
    >
     <span class="mr-2">Contacto</span>
     <span
      class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center shrink-0 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"
     >
      <svg
       xmlns="http://www.w3.org/2000/svg"
       width="13"
       height="13"
       viewBox="0 0 24 24"
       fill="none"
       stroke="currentColor"
       stroke-width="2.5"
       stroke-linecap="round"
       stroke-linejoin="round"
      >
       <line x1="7" y1="17" x2="17" y2="7"></line>
       <polyline points="7 7 17 7 17 17"></polyline>
      </svg>
     </span>
    </a>
   </div>

   <!-- Mobile menu button -->
   <button id="mobile-menu-btn" class="md:hidden flex flex-col gap-1.5 p-2">
    <span class="w-5 h-0.5 bg-primary block"></span>
    <span class="w-5 h-0.5 bg-primary block"></span>
    <span class="w-3.5 h-0.5 bg-primary block"></span>
   </button>
  </div>
 </nav>

 <!-- HERO SECTION -->
 <section class="px-4 md:px-6 pt-4 pb-4">
  <div class="relative min-h-[calc(100vh-2rem)] overflow-hidden rounded-3xl">
   <div class="px-6 md:pl-40 md:pr-6 pt-24 md:pt-28 relative z-10">
    <div class="flex flex-col">
     <!-- Top row: text left + badge center-right -->
     <div class="grid md:grid-cols-12 gap-4 md:gap-6 items-start">
      <!-- Left content -->
      <div class="md:col-span-6 pt-8 md:pt-16">
       <!-- Badge -->
       <div
        id="hero-badge"
        class="inline-flex items-center gap-2 glass-card rounded-full px-4 py-1.5 mb-8 opacity-0"
       >
        <span
         class="text-xs font-semibold tracking-widest text-primary uppercase"
         >+30 años de experiencia</span
        >
       </div>

       <!-- Heading (SCALED UP) -->
       <h1
        id="hero-heading"
        class="text-5xl md:text-6xl lg:text-7xl font-semibold text-text-dark leading-[0.95] mb-5 opacity-0"
        style="font-family: var(--font-sans);"
       >
        Dermatología<br /> y <em
         class="not-italic font-semibold"
         style="font-family: var(--font-serif); font-style: italic;"
         >estética</em
        >
       </h1>

       <!-- Subtitle (SCALED UP + WIDTH) -->
       <p
        id="hero-sub"
        class="text-lg md:text-xl lg:text-1xl text-text-muted mb-12 opacity-0 max-w-lg"
       >
        Atención dermatológica realizada por profesionales médicos, con
        equipamiento de última generación y criterio clínico.
       </p>

       <!-- CTA Button (SCALED UP) -->
       <a
        id="hero-cta"
        href="#"
        class="inline-flex items-center bg-primary text-white pl-7 pr-2 py-2 rounded-full text-base md:text-lg font-medium hover:bg-primary-light transition-all duration-300 group opacity-0"
       >
        <span class="mr-4">Contactanos</span>
        <span
         class="w-11 h-11 md:w-12 md:h-12 bg-white/20 rounded-full flex items-center justify-center shrink-0 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"
        >
         <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2.5"
          stroke-linecap="round"
          stroke-linejoin="round"
         >
          <line x1="7" y1="17" x2="17" y2="7"></line>
          <polyline points="7 7 17 7 17 17"></polyline>
         </svg>
        </span>
       </a>

       <!-- Cards on left side (SCALED UP SPACING) -->
       <div
        class="mt-14 grid grid-cols-2 gap-5 max-w-2xl relative overflow-visible"
       >
        <!-- Card 1: Estética Facial (SCALED UP) -->
        <div
         class="card-item glass-card rounded-2xl p-6 md:p-6 lg:p-7 opacity-0 translate-y-8"
        >
         <h3 class="text-lg md:text-xl font-semibold text-text-dark mb-2">
          Estética Facial
         </h3>
         <p class="text-sm md:text-base text-text-muted mb-6 leading-relaxed">
          Peeling, Plasma Rico en Plaquetas, Láser CO2, Toxina Botulínica y más
         </p>
         <a
          href="#"
          class="inline-flex items-center gap-2 text-sm md:text-base font-medium text-text-dark hover:text-primary transition-colors group"
         >
          Saber más
          <svg
           xmlns="http://www.w3.org/2000/svg"
           width="14"
           height="14"
           viewBox="0 0 24 24"
           fill="none"
           stroke="currentColor"
           stroke-width="2.5"
           stroke-linecap="round"
           stroke-linejoin="round"
           class="transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"
          >
           <line x1="7" y1="17" x2="17" y2="7"></line>
           <polyline points="7 7 17 7 17 17"></polyline>
          </svg>
         </a>
        </div>

        <!-- Card 2: Años de experiencia + Image - extends over image (SCALED UP) -->
        <div
         class="card-item flex gap-4 opacity-0 translate-y-8 relative z-30"
         style="width: calc(100% + 12rem); max-width: none;"
        >
         <!-- Stats sub-card -->
         <div
          class="flex-1 glass-card rounded-2xl p-6 md:p-7 flex flex-col justify-between"
         >
          <!-- Icon -->
          <div
           class="w-11 h-11 md:w-12 md:h-12 bg-accent/10 rounded-xl flex items-center justify-center mb-4"
          >
           <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="#8b7fc8"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
           >
            <path
             d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"
            ></path>
           </svg>
          </div>
          <div>
           <p class="text-xs md:text-sm text-text-muted mb-1">
            Años de<br />experiencia
           </p>
           <p class="text-2xl md:text-3xl font-bold text-text-dark">+30</p>
          </div>
         </div>
         <!-- Image sub-card (NO COLOR CHANGES) -->
         <div
          class="w-28 md:w-32 bg-gradient-to-b from-purple-100 to-purple-200 rounded-2xl overflow-hidden shadow-lg flex-shrink-0"
         >
          <img
           src="/woman-cosmetologist-having-beauty-treatment.jpg"
           alt="Tratamiento estético"
           class="w-full h-full object-cover"
           loading="lazy"
          />
         </div>
        </div>
       </div>
      </div>

      <!-- Right spacer for image -->
      <div class="md:col-span-6"></div>
     </div>
    </div>
   </div>

   <!-- Hero background image -->
   <div id="hero-image" class="absolute top-0 right-0 w-1/2 h-full opacity-0">
    <img
     src="/woman-checking-her-skin-mirror-after-receiving-cosmetic-treatment.jpg"
     alt="Woman cosmetologist having beauty treatment"
     class="w-full h-full object-cover object-center"
     loading="eager"
    />
    <!-- Centered DG badge over image -->
    <div class="absolute inset-0 flex items-center justify-center z-10">
     <div
      id="hero-badge-circle"
      class="relative w-44 h-44 md:w-52 md:h-52 opacity-0"
     >
      <!-- Glassmorphism background -->
      <div class="glass-circle absolute inset-2 rounded-full"></div>
      <!-- Rotating text -->
      <svg
       viewBox="0 0 200 200"
       class="w-full h-full animate-spin-slow relative z-10"
      >
       <defs>
        <path
         id="circlePath"
         d="M 100,100 m -70,0 a 70,70 0 1,1 140,0 a 70,70 0 1,1 -140,0"></path>
       </defs>
       <text
        font-size="11.5"
        fill="#1a1a6e"
        font-weight="500"
        letter-spacing="3.5"
       >
        <textPath href="#circlePath">
         DG DERMOESTÉTICA | DERMATOLOGÍA Y ESTÉTICA |
        </textPath>
       </text>
      </svg>
      <!-- Center DG -->
      <div class="absolute inset-0 flex items-center justify-center z-20">
       <div
        class="w-16 h-16 md:w-20 md:h-20 rounded-full flex items-center justify-center border border-white/50"
       >
        <span
         class="text-xl md:text-2xl font-bold text-primary"
         style="font-family: var(--font-serif);">DG</span
        >
       </div>
      </div>
     </div>
    </div>

    <!-- Image carousel indicators - bottom center -->
    <div
     class="absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex items-center gap-3"
    >
     <!-- Indicator line 1 (active - white) -->
     <div class="h-1 bg-white rounded-full w-16"></div>
     <!-- Indicator line 2 (inactive) -->
     <div class="h-1 bg-white/40 rounded-full w-16"></div>
     <!-- Indicator line 3 (inactive) -->
     <div class="h-1 bg-white/40 rounded-full w-16"></div>
    </div>
   </div>
  </div>
 </section>

 <Servicios />

 <!-- GSAP Animations -->
 <script>
  import { gsap } from "gsap";

  document.addEventListener("DOMContentLoaded", () => {
   // Main timeline
   const tl = gsap.timeline({ defaults: { ease: "power3.out" } });

   // Hero image fade in
   tl.to("#hero-image", {
    opacity: 1,
    duration: 1.2,
    delay: 0.2,
   });

   // Badge
   tl.to(
    "#hero-badge",
    {
     opacity: 1,
     y: 0,
     duration: 0.8,
    },
    "-=0.8"
   );

   // Heading
   tl.to(
    "#hero-heading",
    {
     opacity: 1,
     y: 0,
     duration: 0.9,
    },
    "-=0.5"
   );

   // Subtitle
   tl.to(
    "#hero-sub",
    {
     opacity: 1,
     y: 0,
     duration: 0.7,
    },
    "-=0.4"
   );

   // CTA button
   tl.to(
    "#hero-cta",
    {
     opacity: 1,
     y: 0,
     duration: 0.7,
    },
    "-=0.5"
   );

   // Rotating badge
   tl.to(
    "#hero-badge-circle",
    {
     opacity: 1,
     scale: 1,
     duration: 0.8,
    },
    "-=0.6"
   );

   // Cards stagger animation
   tl.to(
    ".card-item",
    {
     opacity: 1,
     y: 0,
     duration: 0.7,
     stagger: 0.15,
    },
    "-=0.3"
   );

   // Navbar subtle entrance
   gsap.from("nav", {
    y: -20,
    opacity: 0,
    duration: 0.8,
    ease: "power2.out",
    delay: 0.1,
   });
  });
 </script>

 <style is:global>
  @keyframes spin-slow {
   from {
    transform: rotate(0deg);
   }
   to {
    transform: rotate(360deg);
   }
  }
  .animate-spin-slow {
   animation: spin-slow 20s linear infinite;
  }
 </style>
</Layout>
