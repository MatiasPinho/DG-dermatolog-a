---
import Layout from '../layouts/Layout.astro';
---

<Layout>
  <!-- NAVBAR -->
  <nav class="fixed top-0 left-0 right-0 z-50 flex justify-center pt-4 px-6">
    <div class="glass-nav flex items-center gap-1 px-2 py-2 rounded-full">
      <!-- Logo -->
      <a href="/" class="flex items-center justify-center w-10 h-10 bg-primary/10 rounded-full mr-2 group shrink-0">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" fill="none" class="transition-transform group-hover:rotate-45 duration-500">
          <circle cx="16" cy="16" r="3" fill="#3b3ba8"/>
          <line x1="16" y1="4" x2="16" y2="12" stroke="#3b3ba8" stroke-width="2.5" stroke-linecap="round"/>
          <line x1="16" y1="20" x2="16" y2="28" stroke="#3b3ba8" stroke-width="2.5" stroke-linecap="round"/>
          <line x1="4" y1="16" x2="12" y2="16" stroke="#3b3ba8" stroke-width="2.5" stroke-linecap="round"/>
          <line x1="20" y1="16" x2="28" y2="16" stroke="#3b3ba8" stroke-width="2.5" stroke-linecap="round"/>
          <line x1="7.5" y1="7.5" x2="12.5" y2="12.5" stroke="#3b3ba8" stroke-width="2.5" stroke-linecap="round"/>
          <line x1="19.5" y1="19.5" x2="24.5" y2="24.5" stroke="#3b3ba8" stroke-width="2.5" stroke-linecap="round"/>
          <line x1="7.5" y1="24.5" x2="12.5" y2="19.5" stroke="#3b3ba8" stroke-width="2.5" stroke-linecap="round"/>
          <line x1="19.5" y1="12.5" x2="24.5" y2="7.5" stroke="#3b3ba8" stroke-width="2.5" stroke-linecap="round"/>
        </svg>
      </a>

      <!-- Nav links -->
      <div class="hidden md:flex items-center">
        <a href="#" class="text-sm font-medium text-text-dark hover:text-primary px-5 py-2 rounded-full transition-colors">Inicio</a>
        <a href="#" class="text-sm font-medium text-text-dark hover:text-primary px-5 py-2 rounded-full transition-colors">Servicios</a>
        <a href="#" class="text-sm font-medium text-text-dark hover:text-primary px-5 py-2 rounded-full transition-colors">Nosotros</a>
        <a href="#" class="inline-flex items-center bg-primary text-white pl-5 pr-1 py-1 rounded-full text-sm font-medium hover:bg-primary-light transition-all duration-300 group">
          <span class="mr-2">Contacto</span>
          <span class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center shrink-0 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5">
            <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
              <line x1="7" y1="17" x2="17" y2="7"/>
              <polyline points="7 7 17 7 17 17"/>
            </svg>
          </span>
        </a>
      </div>

      <!-- Mobile menu button -->
      <button id="mobile-menu-btn" class="md:hidden flex flex-col gap-1.5 p-2">
        <span class="w-5 h-0.5 bg-primary block"></span>
        <span class="w-5 h-0.5 bg-primary block"></span>
        <span class="w-3.5 h-0.5 bg-primary block"></span>
      </button>
    </div>
  </nav>

  <!-- HERO SECTION -->
  <section class="relative min-h-screen overflow-hidden pt-20 bg-white">
    <div class="max-w-7xl mx-auto px-6 pt-12 md:pt-20 relative z-10">
      <div class="flex flex-col">
        <!-- Top row: text left + badge center-right -->
        <div class="grid md:grid-cols-12 gap-8 items-start">
          <!-- Left content -->
          <div class="md:col-span-5 pt-8 md:pt-16">
            <!-- Badge -->
            <div id="hero-badge" class="inline-flex items-center gap-2 bg-white/60 backdrop-blur-sm border border-gray-200 rounded-full px-4 py-1.5 mb-8 opacity-0">
              <span class="text-xs font-semibold tracking-widest text-primary uppercase">#1 Dental Centre</span>
            </div>

            <!-- Heading -->
            <h1 id="hero-heading" class="text-4xl md:text-5xl lg:text-6xl font-semibold text-text-dark leading-tight mb-8 opacity-0" style="font-family: var(--font-sans);">
              Brighten your<br/> smile with <em class="not-italic font-semibold" style="font-family: var(--font-serif); font-style: italic;">expert<br/> dental care</em>
            </h1>

            <!-- CTA Button -->
            <a id="hero-cta" href="#" class="inline-flex items-center bg-primary text-white pl-7 pr-1.5 py-1.5 rounded-full text-base font-medium hover:bg-primary-light transition-all duration-300 group opacity-0">
              <span class="mr-4">Schedule Your Visit</span>
              <span class="w-11 h-11 bg-white/20 rounded-full flex items-center justify-center shrink-0 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="7" y1="17" x2="17" y2="7"/>
                  <polyline points="7 7 17 7 17 17"/>
                </svg>
              </span>
            </a>
          </div>

          <!-- Center - Rotating dental assistant badge with glassmorphism -->
          <div class="md:col-span-4 relative flex justify-center items-center pt-16 md:pt-28">
            <div id="hero-badge-circle" class="relative w-44 h-44 md:w-52 md:h-52 opacity-0">
              <!-- Glassmorphism background -->
              <div class="absolute inset-2 rounded-full bg-white/30 backdrop-blur-xl border border-white/50 shadow-xl"></div>
              <!-- Rotating text -->
              <svg viewBox="0 0 200 200" class="w-full h-full animate-spin-slow relative z-10">
                <defs>
                  <path id="circlePath" d="M 100,100 m -70,0 a 70,70 0 1,1 140,0 a 70,70 0 1,1 -140,0"/>
                </defs>
                <text font-size="12.5" fill="#1a1a6e" font-weight="500" letter-spacing="3">
                  <textPath href="#circlePath">
                    YOUR DENTAL ASSISTANT | YOUR DENTAL ASSISTANT |
                  </textPath>
                </text>
              </svg>
              <!-- Center M -->
              <div class="absolute inset-0 flex items-center justify-center z-20">
                <div class="w-16 h-16 md:w-20 md:h-20 bg-white rounded-full flex items-center justify-center shadow-lg border-2 border-white/60">
                  <span class="text-2xl md:text-3xl font-bold text-primary" style="font-family: var(--font-serif);">M</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Right spacer for image -->
          <div class="md:col-span-3"></div>
        </div>
      </div>
    </div>

    <!-- Hero background image -->
    <div id="hero-image" class="absolute top-0 right-0 w-1/2 h-full opacity-0">
      <img 
        src="/woman-cosmetologist-having-beauty-treatment.jpg" 
        alt="Woman cosmetologist having beauty treatment"
        class="w-full h-full object-cover object-center"
        loading="eager"
      />
    </div>

    <!-- CARDS SECTION - Bottom of hero -->
    <div class="relative z-20 max-w-7xl mx-auto px-6 mt-8 md:mt-12 pb-8">
      <div id="cards-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
        
        <!-- Card 1: Caring Dentists -->
        <div class="card-item bg-white/80 backdrop-blur-md rounded-2xl p-6 shadow-lg shadow-purple-100/50 border border-white/60 opacity-0 translate-y-8">
          <h3 class="text-lg font-semibold text-text-dark mb-2">Caring Dentists</h3>
          <p class="text-sm text-text-muted mb-6 leading-relaxed">Your health and safety are our top priority</p>
          <a href="#" class="inline-flex items-center gap-2 text-sm font-medium text-text-dark hover:text-primary transition-colors group">
            Explore More
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5">
              <line x1="7" y1="17" x2="17" y2="7"/>
              <polyline points="7 7 17 7 17 17"/>
            </svg>
          </a>
        </div>

        <!-- Card 2: Smiles Transformed + Tooth Image -->
        <div class="card-item flex gap-3 opacity-0 translate-y-8">
          <!-- Stats sub-card -->
          <div class="flex-1 bg-white/80 backdrop-blur-md rounded-2xl p-5 shadow-lg shadow-purple-100/50 border border-white/60 flex flex-col justify-between">
            <!-- Tooth icon -->
            <div class="w-10 h-10 bg-accent/10 rounded-xl flex items-center justify-center mb-3">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#6c63ff" stroke="none">
                <path d="M12 2C9.5 2 7.5 3 6.5 4.5C5.5 6 5 7.5 5 9C5 11 5.5 12.5 6 14C6.5 15.5 7 17 7.5 19C8 21 8.5 22 9.5 22C10.5 22 11 21 11.5 19.5C12 18 12 18 12 18C12 18 12 18 12.5 19.5C13 21 13.5 22 14.5 22C15.5 22 16 21 16.5 19C17 17 17.5 15.5 18 14C18.5 12.5 19 11 19 9C19 7.5 18.5 6 17.5 4.5C16.5 3 14.5 2 12 2Z"/>
              </svg>
            </div>
            <div>
              <p class="text-xs text-text-muted mb-1">Smiles<br/>Transformed</p>
              <p class="text-2xl font-bold text-text-dark">5,000+</p>
            </div>
          </div>
          <!-- Tooth image sub-card -->
          <div class="w-28 bg-gradient-to-b from-blue-100 to-blue-200 rounded-2xl overflow-hidden shadow-lg shadow-purple-100/50 flex-shrink-0">
            <img 
              src="https://images.unsplash.com/photo-1606811971618-4486d14f3f99?auto=format&fit=crop&w=300&q=80" 
              alt="Dental mirror"
              class="w-full h-full object-cover"
              loading="lazy"
            />
          </div>
        </div>

        <!-- Card 3: Join 5,000+ -->
        <div class="card-item bg-white/80 backdrop-blur-md rounded-2xl p-6 shadow-lg shadow-purple-100/50 border border-white/60 opacity-0 translate-y-8">
          <h3 class="text-lg font-semibold text-text-dark mb-2">Join 5,000+</h3>
          <p class="text-sm text-text-muted mb-5">Trusted by 5,000+ teams</p>
          <div class="flex -space-x-3">
            <img src="https://i.pravatar.cc/80?img=1" alt="User 1" class="w-10 h-10 rounded-full border-2 border-white object-cover" loading="lazy"/>
            <img src="https://i.pravatar.cc/80?img=5" alt="User 2" class="w-10 h-10 rounded-full border-2 border-white object-cover" loading="lazy"/>
            <img src="https://i.pravatar.cc/80?img=8" alt="User 3" class="w-10 h-10 rounded-full border-2 border-white object-cover" loading="lazy"/>
            <div class="w-10 h-10 rounded-full border-2 border-white bg-primary/10 flex items-center justify-center">
              <span class="text-xs font-semibold text-primary">+4k</span>
            </div>
          </div>
        </div>

        <!-- Card 4: Testimonial -->
        <div class="card-item bg-white/80 backdrop-blur-md rounded-2xl p-6 shadow-lg shadow-purple-100/50 border border-white/60 opacity-0 translate-y-8">
          <!-- Bar chart icon -->
          <div class="w-10 h-10 bg-accent/10 rounded-xl flex items-center justify-center mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6c63ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="12" width="4" height="9" rx="1"/>
              <rect x="10" y="7" width="4" height="14" rx="1"/>
              <rect x="17" y="3" width="4" height="18" rx="1"/>
            </svg>
          </div>
          <p class="text-sm text-text-dark leading-relaxed mb-3">"Best dentist experience ever! Friendly staff and pain-free visits."</p>
          <p class="text-xs text-text-muted">â€” Sarah M</p>
        </div>

      </div>
    </div>
  </section>

  <!-- GSAP Animations -->
  <script>
    import { gsap } from 'gsap';

    document.addEventListener('DOMContentLoaded', () => {
      // Main timeline
      const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

      // Hero image fade in
      tl.to('#hero-image', {
        opacity: 1,
        duration: 1.2,
        delay: 0.2,
      });

      // Badge
      tl.to('#hero-badge', {
        opacity: 1,
        y: 0,
        duration: 0.8,
      }, '-=0.8');

      // Heading
      tl.to('#hero-heading', {
        opacity: 1,
        y: 0,
        duration: 0.9,
      }, '-=0.5');

      // CTA button
      tl.to('#hero-cta', {
        opacity: 1,
        y: 0,
        duration: 0.7,
      }, '-=0.5');

      // Rotating badge
      tl.to('#hero-badge-circle', {
        opacity: 1,
        scale: 1,
        duration: 0.8,
      }, '-=0.6');

      // Cards stagger animation
      tl.to('.card-item', {
        opacity: 1,
        y: 0,
        duration: 0.7,
        stagger: 0.15,
      }, '-=0.3');

      // Navbar subtle entrance
      gsap.from('nav', {
        y: -20,
        opacity: 0,
        duration: 0.8,
        ease: 'power2.out',
        delay: 0.1,
      });
    });
  </script>

  <style is:global>
    @keyframes spin-slow {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    .animate-spin-slow {
      animation: spin-slow 20s linear infinite;
    }
  </style>
</Layout>
